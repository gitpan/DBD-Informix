Date: Tue, 18 Aug 1998 09:46:14 -0500
To: Pornchai Uawatanachakorn <puawat@informix.com>
From: "Jay A. Eakins" <jeakins@informix.com>
Subject: Re: Esql/c core dump on Digital 4.0D

On Tuesday 18th August 1998, Pornchai Uawatanachakorn wrote:
> IHAC that run ESQL/C 7.22 and Online 7.23 on Digital Unix 4.0B and
> everything work fine.  Customer only upgrade OS. from 4.0B to 4.0D to
> protect Y2K problem.  After upgrade, she can compile her ESQL/C
> program but when run it return segmentation fault (core dump).  I
> found B95478 indicate that 4gl 7.20.UD1 core dump on 4.0D.  I am not
> sure this is a bug or not.  Any idea?

When the customer recompiles the ESQL/C application, have them add one of
the following flags to the compile line:

    1.  If using ANSI C compliant code, add a flag of -std1
    2.  If not using ANSI C code, add a flag of -oldc

For example:    esql -oldc demo3.ec -o demo3

This problem is due to a change in the default behavior of the 4.0D C
compiler from prior versions.  The flag -oldc tells the C compiler to
behave as it did under prior versions of the OS.  The flag -std1 will
also get your customer past this problem, but will require ANSI
prototyping, etc, within the source code.

- Jay E.

